<Window x:Class="WpfPresentation.BusinessMapWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Business Location Map" Height="600" Width="700"
        WindowStartupLocation="CenterOwner" 
        ResizeMode="CanResize"
        MinHeight="400" MinWidth="500"
        Loaded="Window_Loaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header with Business Name -->
        <Border Grid.Row="0" Background="#2E86AB" Padding="15">
            <StackPanel>
                <TextBlock x:Name="txtBusinessName" 
                           FontSize="20" FontWeight="Bold" 
                           Foreground="White" TextWrapping="Wrap"/>
                <TextBlock x:Name="txtAddress" 
                           FontSize="12" Foreground="#E0E0E0" 
                           TextWrapping="Wrap" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Map Image Container -->
        <Border Grid.Row="1" BorderBrush="LightGray" BorderThickness="1" Margin="10">
            <Grid>
                <!-- Loading indicator -->
                <StackPanel x:Name="pnlLoading" 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center">
                    <TextBlock Text="Loading map..." 
                               FontSize="16" 
                               HorizontalAlignment="Center"
                               Foreground="Gray"/>
                    <ProgressBar x:Name="progressBar" 
                                 IsIndeterminate="True" 
                                 Width="200" Height="20" 
                                 Margin="0,10,0,0"/>
                </StackPanel>

                <!-- Error message -->
                <StackPanel x:Name="pnlError" 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center"
                            Visibility="Collapsed">
                    <TextBlock Text="⚠" FontSize="48" 
                               HorizontalAlignment="Center"
                               Foreground="#F18F01"/>
                    <TextBlock x:Name="txtErrorMessage" 
                               Text="Unable to load map" 
                               FontSize="14" 
                               HorizontalAlignment="Center"
                               Foreground="Gray"
                               TextWrapping="Wrap"
                               TextAlignment="Center"
                               MaxWidth="400"
                               Margin="0,10,0,0"/>
                    <Button x:Name="btnRetry" 
                            Content="Retry" 
                            Width="100" Height="30" 
                            Margin="0,15,0,0"
                            Click="btnRetry_Click"/>
                </StackPanel>

                <!-- Map image -->
                <Image x:Name="imgMap" 
                       Stretch="Uniform"
                       Visibility="Collapsed"/>
            </Grid>
        </Border>

        <!-- Zoom Controls -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" 
                    HorizontalAlignment="Center" Margin="10,0,10,10">
            <TextBlock Text="Zoom:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <Button x:Name="btnZoomOut" Content=" − " 
                    Width="35" Height="30" FontSize="16" FontWeight="Bold"
                    Click="btnZoomOut_Click" Margin="0,0,5,0"/>
            <TextBlock x:Name="txtZoomLevel" Text="15" 
                       VerticalAlignment="Center" 
                       Width="30" TextAlignment="Center"
                       FontWeight="SemiBold"/>
            <Button x:Name="btnZoomIn" Content=" + " 
                    Width="35" Height="30" FontSize="16" FontWeight="Bold"
                    Click="btnZoomIn_Click" Margin="5,0,0,0"/>

            <Separator Width="20" Visibility="Hidden"/>

            <TextBlock Text="Style:" VerticalAlignment="Center" Margin="20,0,10,0"/>
            <ComboBox x:Name="cmbMapStyle" Width="100" Height="28"
                      SelectionChanged="cmbMapStyle_SelectionChanged">
                <ComboBoxItem Content="Streets" Tag="streets" IsSelected="True"/>
                <ComboBoxItem Content="Light" Tag="light"/>
                <ComboBoxItem Content="Dark" Tag="dark"/>
            </ComboBox>
        </StackPanel>

        <!-- Close Button -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" 
                    HorizontalAlignment="Center" Margin="10">
            <Button x:Name="btnOpenInBrowser" Content="Open in Browser" 
                    Width="130" Height="35" Margin="5"
                    Click="btnOpenInBrowser_Click"
                    Background="#2E86AB" Foreground="White" FontWeight="SemiBold"/>
            <Button x:Name="btnClose" Content="Close" 
                    Width="100" Height="35" Margin="5"
                    Click="btnClose_Click"
                    Background="#6C757D" Foreground="White" FontWeight="SemiBold"/>
        </StackPanel>
    </Grid>
</Window>
