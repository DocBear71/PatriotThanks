<Window x:Class="WpfPresentation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfPresentation"
        mc:Ignorable="d"
        Title="MainWindow" Height="700" Width="1100" WindowStartupLocation="CenterScreen" MinWidth="1024" Loaded="Window_Loaded" Closing="Window_Closing">
    <Grid> <!-- Main Window Grid -->
        <Grid.RowDefinitions>
            <RowDefinition Height="25" />
            <RowDefinition Height="70" />
            <RowDefinition Height="10" />
            <RowDefinition  />
            <!-- tabset -->
            <RowDefinition Height="50" />
            <RowDefinition Height="20" />
        </Grid.RowDefinitions>
        <Menu Grid.Row="0" Padding="20 3">
            <MenuItem x:Name="mnuFile" Header="File">
                <MenuItem x:Name="mnuExit" Header="Exit" Click="mnuExit_Click" />
            </MenuItem>
            <MenuItem x:Name="mnuEdit" Header="Edit">
                <MenuItem x:Name="mnuChangePassword" Header="Change Password" Click="mnuChangePassword_Click" />
                <MenuItem x:Name="mnuPreferences" Header="Preferences" Click="mnuPreferences_Click" />
            </MenuItem>
            <MenuItem x:Name="mnuLegal" Header="Legal">
                <MenuItem x:Name="mnuPrivacyPolicy" Header="Privacy Policy" Click="mnuPrivacyPolicy_Click" />
                <MenuItem x:Name="mnuTermsAndConditions" Header="Terms and Conditions" Click="mnuTermsAndConditions_Click" />
            </MenuItem>
            <MenuItem x:Name="mnuHelp" Header="Help">
                <MenuItem x:Name="mnuAbout" Header="About" Click="mnuAbout_Click" />
                <MenuItem x:Name="mnuContactUs" Header="Contact Us" Click="mnuContactUs_Click" />
            </MenuItem>
            <MenuItem x:Name="mnuSupport" Header="Support">
                <MenuItem x:Name="mnuDonation" Header="Donation" Click="mnuDonation_Click" />
            </MenuItem>
        </Menu>
        <Grid Grid.Row="1">
            <!-- Password area grid -->
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="350" />
                <ColumnDefinition />
                <ColumnDefinition Width="250" />
                <ColumnDefinition Width="120" />
            </Grid.ColumnDefinitions>
            <Label x:Name="lblGreeting" Content="You are not logged in." Padding="20 5 0 0" Margin="5"/>
            <TextBox x:Name="txtEmail" Margin="5 5 5 0" Grid.Column="1" 
                     HorizontalContentAlignment="Center" 
                     VerticalContentAlignment="Center" 
                     Width="250" HorizontalAlignment="Right"/>
            <PasswordBox x:Name="pwdPassword" Margin="5 5 5 0" Grid.Column="2" 
                         HorizontalContentAlignment="Center" 
                         VerticalContentAlignment="Center"/>
            <Button x:Name="btnLogin" Margin="5 5 20 5" Grid.Column="3"
                    Content="Log In" Click="btnLogin_Click" />
            <Label x:Name="lblEmail" Grid.Row="1" Grid.Column="1" 
                   Content="Email" HorizontalAlignment="Right" 
                   HorizontalContentAlignment="Center" Width="250" />
            <Label x:Name="lblPassword" HorizontalAlignment="Center"
                   Content="Password" Grid.Row="1" Grid.Column="2"/>


        </Grid><!-- end of password area grid -->
        <Grid x:Name="tabContainer" Grid.Row="3" Grid.ColumnSpan="4">
            <TabControl Name="tabSetMain" SelectionChanged="tabSetMain_SelectionChanged">
                <TabControl.Items>
                    
<!-- Business Search Tab -->
                <TabItem x:Name="tabBusinessSearch" Header="Business Search" FontWeight="DemiBold">
                    <Grid x:Name="grdBusinessSearch" Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="150"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                        <!-- Search Criteria Panel -->
                        <GroupBox Header="Search Criteria" Grid.Row="0" Padding="10" Margin="0,0,0,10">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Row 1 -->
                                <Label Grid.Row="0" Grid.Column="0" Content="Business Name:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                <TextBox x:Name="txtSearchBusinessName" Grid.Row="0" Grid.Column="1" Margin="0,0,10,5" Padding="5" KeyDown="SearchTextBox_KeyDown"/>

                                <Label Grid.Row="0" Grid.Column="2" Content="Business Type:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbSearchBusinessType" Grid.Row="0" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 2 -->
                                <Label Grid.Row="1" Grid.Column="0" Content="Street Address:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                <TextBox x:Name="txtSearchStreetAddress" Grid.Row="1" Grid.Column="1" Margin="0,0,10,5" Padding="5" KeyDown="SearchTextBox_KeyDown" />

                                <Label Grid.Row="1" Grid.Column="2" Content="City:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                <TextBox x:Name="txtSearchCity" Grid.Row="1" Grid.Column="3" Margin="0,0,0,5" Padding="5" KeyDown="SearchTextBox_KeyDown" />

                                <!-- Row 3 -->
                                <Label Grid.Row="2" Grid.Column="0" Content="State:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <ComboBox x:Name="cmbSearchState" Grid.Row="2" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="2" Grid.Column="2" Content="Zip Code:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <StackPanel Grid.Row="2" Grid.Column="3" Orientation="Horizontal">
                                    <TextBox x:Name="txtSearchZip" Width="120" Padding="5" MaxLength="12" KeyDown="SearchTextBox_KeyDown" Margin="0,0,0,5"/>
                                    <Button x:Name="btnSearch" Content="Search" Margin="10,0,5,5" Padding="15,5" Click="btnSearch_Click" FontWeight="Bold"/>
                                    <Button x:Name="btnClearSearch" Content="Clear" Margin="5,0,0,5" Padding="15,5" Click="btnClearSearch_Click"/>
                                </StackPanel>
                            </Grid>
                        </GroupBox>

                        <!-- Results DataGrid -->
                        <DataGrid x:Name="datBusinessResults" 
                              Grid.Row="1"
                              AutoGenerateColumns="False" 
                              IsReadOnly="True"
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"
                              SelectionMode="Single"
                              AlternatingRowBackground="LightGray"
                              GridLinesVisibility="Horizontal"
                              MouseDoubleClick="datBusinessResults_MouseDoubleClick">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Business Name" Binding="{Binding BusinessName}" Width="200"/>
                                <DataGridTextColumn Header="Type" Binding="{Binding BusinessType}" Width="130"/>
                                <DataGridTextColumn Header="Location" Binding="{Binding LocationName}" Width="150"/>
                                <DataGridTextColumn Header="Address" Binding="{Binding FullAddress}" Width="*"/>
                                <DataGridTextColumn Header="Phone" Binding="{Binding Phone}" Width="120"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </TabItem>

                    <!-- Business Add Tab -->
                    <TabItem x:Name="tabBusinessAdd" Header="Add A Business" FontWeight="DemiBold">
                        <Grid x:Name="grdBusinessAdd" Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- New Business Details Panel -->
                            <GroupBox Header="New Business Details" Grid.Row="0" Padding="10" Margin="0,0,0,10">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Row 1 -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Business Name:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddBusinessName" Grid.Row="0" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="0" Grid.Column="2" Content="Business Type:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbAddBusinessType" Grid.Row="0" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 2 -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="Phone:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddPhone" Grid.Row="1" Grid.Column="1" Margin="0,0,10,5" Padding="5" MaxLength="15"/>

                                    <Label Grid.Row="1" Grid.Column="2" Content="Location Name:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddLocationName" Grid.Row="1" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 3 -->
                                    <Label Grid.Row="2" Grid.Column="0" Content="Street Address:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddStreetAddress" Grid.Row="2" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="2" Grid.Column="2" Content="Address 2:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddAddress2" Grid.Row="2" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 4 -->
                                    <Label Grid.Row="3" Grid.Column="0" Content="City:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddCity" Grid.Row="3" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="3" Grid.Column="2" Content="State:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbAddState" Grid.Row="3" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 5 - Zip and Buttons -->
                                    <Label Grid.Row="4" Grid.Column="0" Content="Zip Code:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddZip" Grid.Row="4" Grid.Column="1" Width="120" HorizontalAlignment="Left" Padding="5" MaxLength="12" Margin="0,0,10,5"/>

                                    <StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                        <Button x:Name="btnAdd" Content="Add Business" Padding="20,5" Margin="0,0,10,0" Click="btnAddBusiness_Click" FontWeight="Bold"/>
                                        <Button x:Name="btnClearAdd" Content="Clear" Padding="20,5" Click="btnClearAddBusiness_Click"/>
                                    </StackPanel>
                                </Grid>
                            </GroupBox>

                            <!-- Results DataGrid -->
                            <DataGrid x:Name="datBusinessAddResults" 
                                Grid.Row="1"
                                AutoGenerateColumns="False" 
                                IsReadOnly="True"
                                CanUserAddRows="False"
                                CanUserDeleteRows="False"
                                SelectionMode="Single"
                                AlternatingRowBackground="LightGray"
                                GridLinesVisibility="Horizontal"
                                MouseDoubleClick="datBusinessAddResults_MouseDoubleClick">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Business Name" Binding="{Binding BusinessName}" Width="200"/>
                                    <DataGridTextColumn Header="Type" Binding="{Binding BusinessType}" Width="130"/>
                                    <DataGridTextColumn Header="Location" Binding="{Binding LocationName}" Width="150"/>
                                    <DataGridTextColumn Header="Address" Binding="{Binding FullAddress}" Width="*"/>
                                    <DataGridTextColumn Header="Phone" Binding="{Binding Phone}" Width="120"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>

                    <!-- Business Update Tab -->
                    <TabItem x:Name="tabBusinessUpdate" Header="Update a Business" FontWeight="DemiBold">
                        <Grid x:Name="grdBusinessUpdate" Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Search Criteria Panel - Row 0 -->
                            <GroupBox Header="Search for Business to Update" Grid.Row="0" Padding="10" Margin="0,0,0,10">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Row 1 -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Business Name:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateSearchBusinessName" Grid.Row="0" Grid.Column="1" Margin="0,0,10,5" Padding="5" KeyDown="SearchTextBox_KeyDown"/>

                                    <Label Grid.Row="0" Grid.Column="2" Content="Business Type:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbUpdateSearchBusinessType" Grid.Row="0" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 2 -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="City:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateSearchCity" Grid.Row="1" Grid.Column="1" Margin="0,0,10,5" Padding="5" KeyDown="SearchTextBox_KeyDown"/>

                                    <Label Grid.Row="1" Grid.Column="2" Content="State:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbUpdateSearchState" Grid.Row="1" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 3 - Search Button -->
                                    <StackPanel Grid.Row="2" Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button x:Name="btnUpdateSearch" Content="Search" Margin="10,0,5,0" Padding="15,5" Click="btnUpdateSearch_Click" FontWeight="Bold"/>
                                        <Button x:Name="btnUpdateClearSearch" Content="Clear" Margin="5,0,0,0" Padding="15,5" Click="btnUpdateClearSearch_Click"/>
                                    </StackPanel>
                                </Grid>
                            </GroupBox>

                            <!-- Edit Form (Initially Hidden) - Row 1 -->
                            <GroupBox x:Name="grpUpdateBusinessForm" Header="Edit Business Details" Grid.Row="1" Padding="10" Margin="0,0,0,10" Visibility="Collapsed">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Row 1 -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Business Name:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateBusinessName" Grid.Row="0" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="0" Grid.Column="2" Content="Business Type:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbUpdateBusinessType" Grid.Row="0" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 2 -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="Phone:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdatePhone" Grid.Row="1" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="1" Grid.Column="2" Content="Street Address:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateStreetAddress" Grid.Row="1" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 3 -->
                                    <Label Grid.Row="2" Grid.Column="0" Content="Address 2:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateAddress2" Grid.Row="2" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="2" Grid.Column="2" Content="City:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateCity" Grid.Row="2" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 4 -->
                                    <Label Grid.Row="3" Grid.Column="0" Content="State:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbUpdateState" Grid.Row="3" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="3" Grid.Column="2" Content="Zip Code:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateZip" Grid.Row="3" Grid.Column="3" Margin="0,0,0,5" Padding="5" MaxLength="12"/>

                                    <!-- Row 5 - Buttons -->
                                    <CheckBox x:Name="chkUpdateIsActive" Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" Content="Business is Active" Margin="0,10,0,0" IsChecked="True"/>
                                    <StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                        <Button x:Name="btnUpdateSave" Content="Save Changes" Padding="20,5" Margin="0,0,10,0" Click="btnUpdateSave_Click" FontWeight="Bold"/>
                                        <Button x:Name="btnUpdateCancel" Content="Cancel" Padding="20,5" Click="btnUpdateCancel_Click"/>
                                    </StackPanel>
                                </Grid>
                            </GroupBox>

                            <!-- Results DataGrid - Row 2 -->
                            <GroupBox x:Name="grpUpdateBusinessResults" Header="Search Results (Double-click to edit)" Grid.Row="2" Padding="10">
                                <DataGrid x:Name="datUpdateBusinessResults" 
                                        AutoGenerateColumns="False" 
                                        IsReadOnly="True"
                                        CanUserAddRows="False"
                                        CanUserDeleteRows="False"
                                        SelectionMode="Single"
                                        AlternatingRowBackground="LightGray"
                                        GridLinesVisibility="Horizontal"
                                        MouseDoubleClick="datUpdateBusinessResults_MouseDoubleClick">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Business Name" Binding="{Binding BusinessName}" Width="200"/>
                                        <DataGridTextColumn Header="Type" Binding="{Binding BusinessType}" Width="130"/>
                                        <DataGridTextColumn Header="City" Binding="{Binding City}" Width="120"/>
                                        <DataGridTextColumn Header="State" Binding="{Binding StateID}" Width="60"/>
                                        <DataGridTextColumn Header="Phone" Binding="{Binding Phone}" Width="120"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </GroupBox>
                        </Grid>
                    </TabItem>

                    <!-- Business Incentives Tab -->
                    <TabItem x:Name="tabIncentiveView" Header="View a Business Incentive" FontWeight="DemiBold">
                        <Grid x:Name="grdIncentiveView" Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="190"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <!-- Incentive View Panel -->
                            <GroupBox Header="Incentive Search Criteria" Grid.Row="0" Padding="10" Margin="0,0,0,10">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <!-- Row 1 -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Business Name:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtIncentiveSearchBusinessName" Grid.Row="0" Grid.Column="1" Margin="0,0,10,5" Padding="5" KeyDown="SearchTextBox_KeyDown"/>

                                    <Label Grid.Row="0" Grid.Column="2" Content="Business Type:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbIncentiveSearchBusinessType" Grid.Row="0" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 2 -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="Street Address:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtIncentiveSearchStreetAddress" Grid.Row="1" Grid.Column="1" Margin="0,0,10,5" Padding="5" KeyDown="SearchTextBox_KeyDown" />

                                    <Label Grid.Row="1" Grid.Column="2" Content="City:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtIncentiveSearchCity" Grid.Row="1" Grid.Column="3" Margin="0,0,0,5" Padding="5" KeyDown="SearchTextBox_KeyDown" />

                                    <!-- Row 3 -->
                                    <Label Grid.Row="2" Grid.Column="0" Content="State:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <ComboBox x:Name="cmbIncentiveSearchState" Grid.Row="2" Grid.Column="1" Margin="0,0,10,0" Padding="5"/>

                                    <Label Grid.Row="2" Grid.Column="2" Content="Zip Code:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <TextBox x:Name="txtIncentiveSearchZip" Grid.Row="2" Grid.Column="3" Width="120" HorizontalAlignment="Left" Padding="5" MaxLength="12" KeyDown="SearchTextBox_KeyDown"/>

                                    <!-- Row 4 - Checkbox and Buttons -->
                                    <CheckBox x:Name="chkIncludeFutureIncentives" Grid.Row="3" Grid.Column="1" 
                                          Content="Include Future/Expired Incentives" VerticalAlignment="Center" Margin="0,10,0,0" HorizontalAlignment="Center"  
                                          ToolTip="Show incentives that haven't started yet or have already ended"/>
                                    <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                                        <Button x:Name="btnIncentiveSearch" Content="Search" Margin="0,0,5,0" Padding="15,5" Click="btnIncentiveSearch_Click" FontWeight="Bold"/>
                                        <Button x:Name="btnIncentiveClearSearch" Content="Clear" Margin="5,0,0,0" Padding="15,5" Click="btnIncentiveClearSearch_Click"/>
                                    </StackPanel>
                                </Grid>
                            </GroupBox>
                            <!-- End of Incentive View Panel -->

                            <!-- Results Grid -->
                            <DataGrid x:Name="datBusinessIncentiveResults" 
                                Grid.Row="1"
                                AutoGenerateColumns="False" 
                                IsReadOnly="True"
                                CanUserAddRows="False"
                                CanUserDeleteRows="False"
                                SelectionMode="Single"
                                AlternatingRowBackground="LightGray"
                                GridLinesVisibility="Horizontal"
                                MouseDoubleClick="datBusinessIncentiveResults_MouseDoubleClick">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Business Name" Binding="{Binding BusinessName}" Width="180"/>
                                    <DataGridTextColumn Header="Type" Binding="{Binding BusinessType}" Width="100"/>
                                    <DataGridTextColumn Header="Location" Binding="{Binding LocationName}" Width="120"/>
                                    <DataGridTextColumn Header="Amount" Binding="{Binding FormattedAmount}" Width="80"/>
                                    <DataGridTextColumn Header="Description" Binding="{Binding IncentiveDescription}" Width="400"/>
                                    <DataGridTextColumn Header="Expires" Binding="{Binding EndDate, StringFormat='M/d/yyyy'}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                        <!-- End of grdIncentiveView -->
                    </TabItem>
                    <TabItem x:Name="tabIncentiveAdd" Header="Add a Business Incentive" FontWeight="DemiBold">
                        <Grid x:Name="grdIncentiveAdd" Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Business Selection Panel -->
                            <GroupBox Header="Step 1: Select a Business" Grid.Row="0" Padding="10" Margin="0,0,0,10">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Row 1 -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Business Name:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddIncentiveBusinessSearch" Grid.Row="0" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="0" Grid.Column="2" Content="City:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddIncentiveCitySearch" Grid.Row="0" Grid.Column="3" Margin="0,0,10,5" Padding="5"/>

                                    <Button x:Name="btnAddIncentiveSearchBusiness" Grid.Row="0" Grid.Column="4" Content="Search" Padding="15,5" Click="btnAddIncentiveSearchBusiness_Click"/>

                                    <!-- Row 2 - Selected Business Display -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="Selected Business:" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Bold"/>
                                    <TextBlock x:Name="txtSelectedBusinessForIncentive" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="4" 
                                       VerticalAlignment="Center" Margin="0,5,0,0" FontStyle="Italic"
                                       Text="No business selected. Search and double-click to select."/>
                                </Grid>
                            </GroupBox>

                            <!-- Incentive Details Panel (Initially Hidden) -->
                            <GroupBox x:Name="grpAddIncentiveForm" Header="Step 2: Enter Incentive Details" Grid.Row="1" Padding="10" Margin="0,0,0,10" Visibility="Collapsed">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Row 1: Amount and Percentage -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Incentive Amount:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,5">
                                        <TextBox x:Name="txtAddIncentiveAmount" Width="100" Padding="5" MaxLength="10"/>
                                        <CheckBox x:Name="chkAddIncentiveIsPercentage" Content="Is Percentage (%)" VerticalAlignment="Center" Margin="15,0,0,0"/>
                                    </StackPanel>

                                    <Label Grid.Row="0" Grid.Column="2" Content="Incentive Types:*" VerticalAlignment="Top" Margin="0,0,10,5"/>
                                    <ListBox x:Name="lstAddIncentiveTypes" Grid.Row="0" Grid.Column="3" Grid.RowSpan="3" 
                                        Height="100" Margin="0,0,0,5" SelectionMode="Multiple">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <CheckBox Content="{Binding IncentiveTypeDescription}" 
                                                    Tag="{Binding IncentiveTypeID}"
                                                    Checked="IncentiveTypeCheckBox_Changed"
                                                    Unchecked="IncentiveTypeCheckBox_Changed"/>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>

                                    <!-- Row 2: Start Date and End Date -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="Start Date:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <DatePicker x:Name="dpAddIncentiveStartDate" Grid.Row="1" Grid.Column="1" Margin="0,0,10,5" Width="150" HorizontalAlignment="Left"/>

                                    <!-- Row 3: End Date -->
                                    <Label Grid.Row="2" Grid.Column="0" Content="End Date:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,5">
                                        <DatePicker x:Name="dpAddIncentiveEndDate" Width="150"/>
                                        <TextBlock Text="(Leave blank for ongoing)" VerticalAlignment="Center" Margin="10,0,0,0" FontStyle="Italic" Foreground="Gray"/>
                                    </StackPanel>

                                    <!-- Row 4: Description -->
                                    <Label Grid.Row="3" Grid.Column="0" Content="Description:*" VerticalAlignment="Top" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddIncentiveDescription" Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="3" 
                                         Margin="0,0,0,5" Padding="5" Height="60" 
                                         TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                                         MaxLength="1024"/>

                                    <!-- Row 5: Limitations -->
                                    <Label Grid.Row="4" Grid.Column="0" Content="Limitations:" VerticalAlignment="Top" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtAddIncentiveLimitations" Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="3" 
                                         Margin="0,0,0,5" Padding="5" Height="60" 
                                         TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                                         MaxLength="1024"/>

                                    <!-- Row 6: Buttons -->
                                    <StackPanel Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                        <Button x:Name="btnAddIncentiveSave" Content="Add Incentive" Padding="20,5" Margin="0,0,10,0" Click="btnAddIncentiveSave_Click" FontWeight="Bold"/>
                                        <Button x:Name="btnAddIncentiveClear" Content="Clear Form" Padding="20,5" Click="btnAddIncentiveClear_Click"/>
                                    </StackPanel>
                                </Grid>
                            </GroupBox>

                            <!-- Business Search Results DataGrid -->
                            <GroupBox Header="Business Search Results (Double-click to select)" Grid.Row="2" Padding="10">
                                <DataGrid x:Name="datAddIncentiveBusinessResults" 
                                      AutoGenerateColumns="False" 
                                      IsReadOnly="True"
                                      CanUserAddRows="False"
                                      CanUserDeleteRows="False"
                                      SelectionMode="Single"
                                      AlternatingRowBackground="LightGray"
                                      GridLinesVisibility="Horizontal"
                                      MouseDoubleClick="datAddIncentiveBusinessResults_MouseDoubleClick">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="ID" Binding="{Binding BusinessID}" Width="50"/>
                                        <DataGridTextColumn Header="Business Name" Binding="{Binding BusinessName}" Width="200"/>
                                        <DataGridTextColumn Header="Type" Binding="{Binding BusinessType}" Width="100"/>
                                        <DataGridTextColumn Header="City" Binding="{Binding City}" Width="120"/>
                                        <DataGridTextColumn Header="State" Binding="{Binding StateID}" Width="50"/>
                                        <DataGridTextColumn Header="Phone" Binding="{Binding Phone}" Width="120"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </GroupBox>
                        </Grid>
                    </TabItem>

                    <!-- Update Incentive Tab -->
                    <TabItem x:Name="tabIncentiveUpdate" Header="Update a Business Incentive" FontWeight="DemiBold">
                        <Grid x:Name="grdIncentiveUpdate" Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Search Panel - Row 0 -->
                            <GroupBox Header="Search for Incentive to Update" Grid.Row="0" Padding="10" Margin="0,0,0,10">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Row 1 -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Business Name:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateIncentiveSearchBusinessName" Grid.Row="0" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="0" Grid.Column="2" Content="Business Type:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbUpdateIncentiveSearchBusinessType" Grid.Row="0" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 2 -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="City:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateIncentiveSearchCity" Grid.Row="1" Grid.Column="1" Margin="0,0,10,5" Padding="5"/>

                                    <Label Grid.Row="1" Grid.Column="2" Content="State:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <ComboBox x:Name="cmbUpdateIncentiveSearchState" Grid.Row="1" Grid.Column="3" Margin="0,0,0,5" Padding="5"/>

                                    <!-- Row 3 - Checkbox and Buttons -->
                                    <CheckBox x:Name="chkUpdateIncentiveIncludeFutureExpired" Grid.Row="2" Grid.Column="1" 
                                        Content="Include Future/Expired Incentives" VerticalAlignment="Center" Margin="0,5,0,0"
                                        ToolTip="Show incentives that haven't started yet or have already ended"/>
                                    <StackPanel Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,5,0,0">
                                        <Button x:Name="btnUpdateIncentiveSearch" Content="Search" Margin="0,0,5,0" Padding="15,5" Click="btnUpdateIncentiveSearch_Click" FontWeight="Bold"/>
                                        <Button x:Name="btnUpdateIncentiveClearSearch" Content="Clear" Padding="15,5" Click="btnUpdateIncentiveClearSearch_Click"/>
                                    </StackPanel>
                                </Grid>
                            </GroupBox>

                            <!-- Edit Form (Initially Hidden) - Row 1 -->
                            <GroupBox x:Name="grpUpdateIncentiveForm" Header="Edit Incentive Details" Grid.Row="1" Padding="10" Margin="0,0,0,10" Visibility="Collapsed">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Row 0: Selected Business Display -->
                                    <Label Grid.Row="0" Grid.Column="0" Content="Business:" VerticalAlignment="Center" Margin="0,0,10,5" FontWeight="Bold"/>
                                    <TextBlock x:Name="txtUpdateIncentiveSelectedBusiness" Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3" 
                                        VerticalAlignment="Center" Margin="0,0,0,5" FontWeight="SemiBold"/>

                                    <!-- Row 1: Amount and Percentage -->
                                    <Label Grid.Row="1" Grid.Column="0" Content="Incentive Amount:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,5">
                                        <TextBox x:Name="txtUpdateIncentiveAmount" Width="100" Padding="5" MaxLength="10"/>
                                        <CheckBox x:Name="chkUpdateIncentiveIsPercentage" Content="Is Percentage (%)" VerticalAlignment="Center" Margin="15,0,0,0"/>
                                    </StackPanel>

                                    <Label Grid.Row="1" Grid.Column="2" Content="Incentive Types:*" VerticalAlignment="Top" Margin="0,0,10,5"/>
                                    <ListBox x:Name="lstUpdateIncentiveTypes" Grid.Row="1" Grid.Column="3" Grid.RowSpan="3" 
                                        Height="100" Margin="0,0,0,5" SelectionMode="Multiple">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <CheckBox Content="{Binding IncentiveTypeDescription}" 
                                                    Tag="{Binding IncentiveTypeID}"
                                                    Checked="UpdateIncentiveTypeCheckBox_Changed"
                                                    Unchecked="UpdateIncentiveTypeCheckBox_Changed"/>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>

                                    <!-- Row 2: Start Date -->
                                    <Label Grid.Row="2" Grid.Column="0" Content="Start Date:*" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <DatePicker x:Name="dpUpdateIncentiveStartDate" Grid.Row="2" Grid.Column="1" Margin="0,0,10,5" Width="150" HorizontalAlignment="Left"/>

                                    <!-- Row 3: End Date -->
                                    <Label Grid.Row="3" Grid.Column="0" Content="End Date:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                                    <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal" Margin="0,0,10,5">
                                        <DatePicker x:Name="dpUpdateIncentiveEndDate" Width="150"/>
                                        <TextBlock Text="(Leave blank for ongoing)" VerticalAlignment="Center" Margin="10,0,0,0" FontStyle="Italic" Foreground="Gray"/>
                                    </StackPanel>

                                    <!-- Row 4: Description -->
                                    <Label Grid.Row="4" Grid.Column="0" Content="Description:*" VerticalAlignment="Top" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateIncentiveDescription" Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="3" 
                                         Margin="0,0,0,5" Padding="5" Height="50" 
                                         TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                                         MaxLength="1024"/>

                                    <!-- Row 5: Limitations and Buttons -->
                                    <Label Grid.Row="5" Grid.Column="0" Content="Limitations:" VerticalAlignment="Top" Margin="0,0,10,5"/>
                                    <TextBox x:Name="txtUpdateIncentiveLimitations" Grid.Row="5" Grid.Column="1" 
                                         Margin="0,0,10,10" Padding="5" Height="50" 
                                         TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                                         MaxLength="1024"/>

                                    <StackPanel Grid.Row="5" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,0,5">
                                        <Button x:Name="btnUpdateIncentiveSave" Content="Save Changes" Padding="20,5" Margin="0,0,10,5" Click="btnUpdateIncentiveSave_Click" FontWeight="Bold"/>
                                        <Button x:Name="btnUpdateIncentiveCancel" Content="Cancel" Padding="20,5" Margin="0,0,10,5" Click="btnUpdateIncentiveCancel_Click"/>
                                    </StackPanel>
                                </Grid>
                            </GroupBox>

                            <!-- Results DataGrid - Row 2 -->
                            <GroupBox Header="Search Results (Double-click to edit)" Grid.Row="2" Padding="10">
                                <DataGrid x:Name="datUpdateIncentiveResults" 
                                    AutoGenerateColumns="False" 
                                    IsReadOnly="True"
                                    CanUserAddRows="False"
                                    CanUserDeleteRows="False"
                                    SelectionMode="Single"
                                    AlternatingRowBackground="LightGray"
                                    GridLinesVisibility="Horizontal"
                                    MouseDoubleClick="datUpdateIncentiveResults_MouseDoubleClick">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="ID" Binding="{Binding IncentiveID}" Width="50"/>
                                        <DataGridTextColumn Header="Business Name" Binding="{Binding BusinessName}" Width="180"/>
                                        <DataGridTextColumn Header="Type" Binding="{Binding BusinessType}" Width="100"/>
                                        <DataGridTextColumn Header="Amount" Binding="{Binding FormattedAmount}" Width="80"/>
                                        <DataGridTextColumn Header="Description" Binding="{Binding IncentiveDescription}" Width="300"/>
                                        <DataGridTextColumn Header="Date Range" Binding="{Binding DateRangeDisplay}" Width="150"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </GroupBox>
                        </Grid>
                    </TabItem>

                    <!-- Administration Tab -->
                    <TabItem x:Name="tabAdmin" Header="Administration" FontWeight="DemiBold">
                        <Grid x:Name="grdAdmin" Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Filter and Action Buttons Panel -->
                            <GroupBox Header="User Management" Grid.Row="0" Padding="10" Margin="0,0,0,10">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Filter by Account Status -->
                                    <Label Grid.Column="0" Content="Filter by Account Status:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <ComboBox x:Name="cmbUserAccountStatusFilter" Grid.Column="1" Padding="5" 
                                              SelectionChanged="cmbUserAccountStatusFilter_SelectionChanged"/>

                                    <Button x:Name="btnRefreshUsers" Grid.Column="2" Content="Refresh" 
                                            Margin="10,0,0,0" Padding="15,5" Click="btnRefreshUsers_Click"/>

                                    <!-- Spacer -->
                                    <Label Grid.Column="3"/>

                                    <!-- Action Buttons -->
                                    <Button x:Name="btnAddUser" Grid.Column="4" Content="Add User" 
                                            Margin="5,0" Padding="15,5" Click="btnAddUser_Click" FontWeight="Bold"/>
                                    <Button x:Name="btnEditUser" Grid.Column="5" Content="Edit User" 
                                            Margin="5,0" Padding="15,5" Click="btnEditUser_Click"/>
                                    <Button x:Name="btnViewUser" Grid.Column="6" Content="View Details" 
                                            Margin="5,0,0,0" Padding="15,5" Click="btnViewUser_Click"/>
                                </Grid>
                            </GroupBox>

                            <!-- Users DataGrid -->
                            <DataGrid x:Name="datUsers" 
                                  Grid.Row="1"
                                  AutoGenerateColumns="False" 
                                  IsReadOnly="True"
                                  CanUserAddRows="False"
                                  CanUserDeleteRows="False"
                                  SelectionMode="Single"
                                  AlternatingRowBackground="LightGray"
                                  GridLinesVisibility="Horizontal"
                                  SelectionChanged="datUsers_SelectionChanged"
                                  MouseDoubleClick="datUsers_MouseDoubleClick">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="User ID" Binding="{Binding UserID}" Width="60"/>
                                    <DataGridTextColumn Header="Title" Binding="{Binding TitleID}" Width="50"/>
                                    <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}" Width="100"/>
                                    <DataGridTextColumn Header="Last Name" Binding="{Binding LastName}" Width="100"/>
                                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="200"/>
                                    <DataGridTextColumn Header="Status" Binding="{Binding StatusID}" Width="100"/>
                                    <DataGridTextColumn Header="Account Status" Binding="{Binding AccountStatusID}" Width="100"/>
                                    <DataGridTextColumn Header="Membership" Binding="{Binding MemLevelID}" Width="100"/>
                                    <DataGridTextColumn Header="Registered" Binding="{Binding RegistrationDate, StringFormat='M/d/yyyy h:mm tt'}" Width="120"/>
                                    <DataGridTextColumn Header="Last Updated" Binding="{Binding LastUpdated, StringFormat='M/d/yyyy h:mm tt'}" Width="120"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <!-- Status/Help Text -->
                            <TextBlock Grid.Row="2" Margin="0,10,0,0" FontStyle="Italic" Foreground="Gray">
                                Double-click a user to view details. Select a user and click Edit to modify.
                            </TextBlock>
                        </Grid>
                    </TabItem>


                </TabControl.Items>
            </TabControl>

        </Grid><!-- End of Tab Container -->
        <StatusBar Grid.Row="5">
            <StatusBarItem x:Name="statMessage" Padding="20 0">
                Welcome, Please log in to continue.
            </StatusBarItem>
        </StatusBar>
    </Grid><!-- End of main window grid -->
</Window>
